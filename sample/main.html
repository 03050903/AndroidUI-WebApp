<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="format-detection" content="telephone=no">
    <meta charset="UTF-8">
    <title>AndroidUI4Web</title>
    <style>
        *{
            -webkit-tap-highlight-color: rgba(0,0,0,0);
            outline: none;
        }
        html {
            height: 100%;
            width: 100%;
        }
        body {
            font-size: 14px;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            -webkit-user-select: none;
            font-family: Helvetica;
        }
    </style>
</head>
<body>
<android-ui
        debug="true"
        label="Sample App"
        style="width: 100%; height:100%;display: none;">
    <activity name="android.app.ActionBarActivity" oncreate="onCreate">
        <ScrollView>
            <LinearLayout
                    android:orientation="vertical"
                    android:padding="12dp"
                    android:gravity="center">
                <TextView id="android_tip" android:visibility="gone">NOTE:Suggest use Chrome for better experience</TextView>
                <Button onclick="this.getContext().startActivity('sample.app.SampleBaseWidgetActivity')">Base Widget</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleFrameLayoutActivity')">FrameLayout</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleLinearLayoutActivity')">LinearLayout</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleRelativeLayoutActivity')">RelativeLayout</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleTextViewActivity')">TextView</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleButtonActivity')">Button</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleImageViewActivity')">ImageView</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleListViewActivity')">ListView</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleGridViewActivity')">GridView</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleExpandableListViewActivity')">ExpandableListView</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleViewPagerActivity')">ViewPager</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleDrawerLayoutActivity')">DrawerLayout</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleViewPagerGalleryActivity')">ImageGallery&Gesture</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SamplePullRefreshLoadActivity')">List pull refresh & pull load</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SamplePickerActivity')">Picker</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleAnimationActivity')">Animation</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleLifeCallbackActivity')">Activity Life Circel</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleContacteActivity')">Activity Start&Result</Button>
                <Button onclick="this.getContext().startActivity('sample.app.SampleHtmlViewActivity')">HtmlView</Button>
            </LinearLayout>
        </ScrollView>
    </activity>
</android-ui>

<script src="//cdn.bootcss.com/babel-polyfill/6.3.14/polyfill.min.js"></script>
<script src="../dist/android-ui.es5.js"></script>
<script src="build/app.es5.js"></script>
<script>
    android.view.ViewRootImpl.DEBUG_FPS = true;
    function onCreate(activity){
        if(navigator.userAgent.match('Android')){
            activity.findViewById('android_tip').setVisibility(android.view.View.VISIBLE);
        }

        activity.onBackPressed = function(){
            new android.app.AlertDialog.Builder(activity)
                    .setTitle('Promt')
                    .setIcon(sample.app.R.image.icon_alert)
                    .setMessage('Exit confirm?')
                    .setNegativeButton(android.R.string_.cancel, null)
                    .setPositiveButton(android.R.string_.ok, {
                        onClick:function(dialog, which){
                            activity.finish();
                        }
                    }).show();
        };

        //right menu icon
        var menu = new android.view.Menu(activity);
        var forkItem = menu.add('Fork me on GitHub');
        var aboutItem = menu.add('About');
        menu.setCallback({
            onMenuItemSelected : function(menu, item){
                if(item == forkItem){
                    window.location.href = 'https://github.com/linfaxin/AndroidUI4Web';

                }else if(item == aboutItem){
                    new android.app.AlertDialog.Builder(activity)
                            .setTitle('About')
                            .setMessage('AndroidUI4Web is a high-performance web app framework.')
                            .setPositiveButton(android.R.string_.ok, null)
                            .show();
                }
                return true;
            }
        });
        var menuPopupHelper = new android.view.menu.MenuPopupHelper(activity, menu, activity.getActionBar().mActionRight);
        activity.getActionBar().setActionRight('', android.R.image.ic_menu_moreoverflow_normal_holo_dark, {
            onClick : function(view){
                menuPopupHelper.show();
            }
        });
    }
</script>
</body>
</html>